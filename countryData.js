// Extended country data for comparison minigame
const countryData = [
    {
        name: "Japan",
        flag: "ğŸ‡¯ğŸ‡µ",
        emojis: ["ğŸ—¾", "ğŸ£", "ğŸ—»", "ğŸŒ¸", "ğŸ¥‹", "ğŸ¯", "âšª", "ğŸ”´"],
        continent: "Asia",
        subregion: "Eastern Asia",
        languages: ["Japanese"],
        languageFamily: "Japonic",
        population: 125000000,
        climate: "temperate",
        area: 377975,
        religion: "Buddhism",
        seaAccess: "island"
    },
    {
        name: "France",
        flag: "ğŸ‡«ğŸ‡·",
        emojis: ["ğŸ—¼", "ğŸ¥", "ğŸ§€", "ğŸ·", "ğŸ¨", "ğŸ¥–", "ğŸ”µ", "ğŸ”´"],
        continent: "Europe",
        subregion: "Western Europe",
        languages: ["French"],
        languageFamily: "Romance",
        population: 67000000,
        climate: "temperate",
        area: 643801,
        religion: "Christianity",
        seaAccess: "coastal"
    },
    {
        name: "Italy",
        flag: "ğŸ‡®ğŸ‡¹",
        emojis: ["ğŸ•", "ğŸ", "ğŸ›ï¸", "ğŸ­", "ğŸ·", "âš½", "ğŸŸ¢", "ğŸ”´"],
        continent: "Europe",
        subregion: "Southern Europe",
        languages: ["Italian"],
        languageFamily: "Romance",
        population: 59000000,
        climate: "temperate",
        area: 301340,
        religion: "Christianity",
        seaAccess: "coastal"
    },
    {
        name: "Brazil",
        flag: "ğŸ‡§ğŸ‡·",
        emojis: ["âš½", "ğŸŒ´", "ğŸ­", "â˜•", "ğŸ¦œ", "ğŸ–ï¸", "ğŸŸ¢", "ğŸŸ¡"],
        continent: "South America",
        subregion: "South America",
        languages: ["Portuguese"],
        languageFamily: "Romance",
        population: 215000000,
        climate: "tropical",
        area: 8515767,
        religion: "Christianity",
        seaAccess: "coastal"
    },
    {
        name: "Egypt",
        flag: "ğŸ‡ªğŸ‡¬",
        emojis: ["ğŸª", "ğŸœï¸", "ğŸ”º", "ğŸ›ï¸", "â˜€ï¸", "ğŸ", "âšª", "ğŸ”´"],
        continent: "Africa",
        subregion: "Northern Africa",
        languages: ["Arabic"],
        languageFamily: "Semitic",
        population: 105000000,
        climate: "tropical",
        area: 1002450,
        religion: "Islam",
        seaAccess: "coastal"
    },
    {
        name: "Australia",
        flag: "ğŸ‡¦ğŸ‡º",
        emojis: ["ğŸ¦˜", "ğŸ¨", "ğŸ–ï¸", "ğŸ„", "ğŸ¦ˆ", "ğŸï¸", "ğŸ”µ", "ğŸ”´"],
        continent: "Oceania",
        subregion: "Australia and New Zealand",
        languages: ["English"],
        languageFamily: "Germanic",
        population: 26000000,
        climate: "tropical",
        area: 7692024,
        religion: "Christianity",
        seaAccess: "island"
    },
    {
        name: "Mexico",
        flag: "ğŸ‡²ğŸ‡½",
        emojis: ["ğŸŒ®", "ğŸŒµ", "ğŸº", "ğŸ’€", "ğŸŒ¶ï¸", "ğŸ¦", "ğŸŸ¢", "ğŸ”´"],
        continent: "North America",
        subregion: "Central America",
        languages: ["Spanish"],
        languageFamily: "Romance",
        population: 130000000,
        climate: "tropical",
        area: 1964375,
        religion: "Christianity",
        seaAccess: "coastal"
    },
    {
        name: "China",
        flag: "ğŸ‡¨ğŸ‡³",
        emojis: ["ğŸ‰", "ğŸ¯", "ğŸ¥Ÿ", "ğŸ‹", "ğŸ¼", "ğŸœ", "ğŸ”´", "ğŸŸ¡"],
        continent: "Asia",
        subregion: "Eastern Asia",
        languages: ["Mandarin"],
        languageFamily: "Sino-Tibetan",
        population: 1400000000,
        climate: "temperate",
        area: 9596961,
        religion: "Folk",
        seaAccess: "coastal"
    },
    {
        name: "India",
        flag: "ğŸ‡®ğŸ‡³",
        emojis: ["ğŸ˜", "ğŸ•Œ", "ğŸ›", "ğŸª”", "ğŸ…", "ğŸ§˜", "ğŸŸ ", "ğŸŸ¢"],
        continent: "Asia",
        subregion: "Southern Asia",
        languages: ["Hindi", "English"],
        languageFamily: "Indo-European",
        population: 1400000000,
        climate: "tropical",
        area: 3287263,
        religion: "Hinduism",
        seaAccess: "coastal"
    },
    {
        name: "Spain",
        flag: "ğŸ‡ªğŸ‡¸",
        emojis: ["ğŸ’ƒ", "ğŸ‚", "ğŸ¥˜", "ğŸ–ï¸", "âš½", "ğŸ¸", "ğŸ”´", "ğŸŸ¡"],
        continent: "Europe",
        subregion: "Southern Europe",
        languages: ["Spanish"],
        languageFamily: "Romance",
        population: 47000000,
        climate: "temperate",
        area: 505990,
        religion: "Christianity",
        seaAccess: "coastal"
    },
    {
        name: "Greece",
        flag: "ğŸ‡¬ğŸ‡·",
        emojis: ["ğŸ›ï¸", "ğŸ«’", "ğŸº", "â›µ", "â˜€ï¸", "ğŸï¸", "ğŸ”µ", "âšª"],
        continent: "Europe",
        subregion: "Southern Europe",
        languages: ["Greek"],
        languageFamily: "Hellenic",
        population: 10500000,
        climate: "temperate",
        area: 131957,
        religion: "Christianity",
        seaAccess: "coastal"
    },
    {
        name: "United States",
        flag: "ğŸ‡ºğŸ‡¸",
        emojis: ["ğŸ—½", "ğŸ¦…", "ğŸ”", "ğŸˆ", "ğŸŒ‰", "ğŸ¬", "ğŸ”´", "ğŸ”µ"],
        continent: "North America",
        subregion: "Northern America",
        languages: ["English"],
        languageFamily: "Germanic",
        population: 335000000,
        climate: "temperate",
        area: 9833517,
        religion: "Christianity",
        seaAccess: "coastal"
    },
    {
        name: "Canada",
        flag: "ğŸ‡¨ğŸ‡¦",
        emojis: ["ğŸ", "ğŸ’", "ğŸ¦«", "ğŸ”ï¸", "â„ï¸", "ğŸ»", "ğŸ”´", "âšª"],
        continent: "North America",
        subregion: "Northern America",
        languages: ["English", "French"],
        languageFamily: "Germanic",
        population: 39000000,
        climate: "cold",
        area: 9984670,
        religion: "Christianity",
        seaAccess: "coastal"
    },
    {
        name: "United Kingdom",
        flag: "ğŸ‡¬ğŸ‡§",
        emojis: ["ğŸ‘‘", "â˜•", "ğŸ©", "ğŸ°", "ğŸšŒ", "âš½", "ğŸ”´", "ğŸ”µ"],
        continent: "Europe",
        subregion: "Northern Europe",
        languages: ["English"],
        languageFamily: "Germanic",
        population: 68000000,
        climate: "temperate",
        area: 242495,
        religion: "Christianity",
        seaAccess: "island"
    },
    {
        name: "Germany",
        flag: "ğŸ‡©ğŸ‡ª",
        emojis: ["ğŸº", "ğŸ¥¨", "ğŸ°", "ğŸš—", "âš½", "ğŸŒ²", "ğŸ”´", "ğŸŸ¡"],
        continent: "Europe",
        subregion: "Western Europe",
        languages: ["German"],
        languageFamily: "Germanic",
        population: 84000000,
        climate: "temperate",
        area: 357114,
        religion: "Christianity",
        seaAccess: "coastal"
    },
    {
        name: "Russia",
        flag: "ğŸ‡·ğŸ‡º",
        emojis: ["ğŸª†", "â„ï¸", "ğŸ»", "ğŸ°", "ğŸš€", "â›·ï¸", "âšª", "ğŸ”´"],
        continent: "Europe",
        subregion: "Eastern Europe",
        languages: ["Russian"],
        languageFamily: "Slavic",
        population: 146000000,
        climate: "cold",
        area: 17098242,
        religion: "Christianity",
        seaAccess: "coastal"
    },
    {
        name: "Netherlands",
        flag: "ğŸ‡³ğŸ‡±",
        emojis: ["ğŸŒ·", "ğŸš²", "ğŸ§€", "âš½", "ğŸ ", "â›¸ï¸", "ğŸ”´", "ğŸ”µ"],
        continent: "Europe",
        subregion: "Western Europe",
        languages: ["Dutch"],
        languageFamily: "Germanic",
        population: 17500000,
        climate: "temperate",
        area: 41850,
        religion: "Christianity",
        seaAccess: "coastal"
    },
    {
        name: "Switzerland",
        flag: "ğŸ‡¨ğŸ‡­",
        emojis: ["ğŸ”ï¸", "ğŸ§€", "ğŸ«", "âŒš", "â›·ï¸", "ğŸš ", "ğŸ”´", "âšª"],
        continent: "Europe",
        subregion: "Western Europe",
        languages: ["German", "French", "Italian"],
        languageFamily: "Germanic",
        population: 8700000,
        climate: "temperate",
        area: 41285,
        religion: "Christianity",
        seaAccess: "landlocked"
    },
    {
        name: "Sweden",
        flag: "ğŸ‡¸ğŸ‡ª",
        emojis: ["â„ï¸", "ğŸ’", "ğŸŒ²", "ğŸ”ï¸", "ğŸ¦Œ", "ğŸ„", "ğŸ”µ", "ğŸŸ¡"],
        continent: "Europe",
        subregion: "Northern Europe",
        languages: ["Swedish"],
        languageFamily: "Germanic",
        population: 10500000,
        climate: "cold",
        area: 450295,
        religion: "Christianity",
        seaAccess: "coastal"
    },
    {
        name: "Norway",
        flag: "ğŸ‡³ğŸ‡´",
        emojis: ["ğŸ”ï¸", "â„ï¸", "ğŸ›¶", "ğŸŒŒ", "â›·ï¸", "ğŸŸ", "ğŸ”´", "ğŸ”µ"],
        continent: "Europe",
        subregion: "Northern Europe",
        languages: ["Norwegian"],
        languageFamily: "Germanic",
        population: 5500000,
        climate: "cold",
        area: 323802,
        religion: "Christianity",
        seaAccess: "coastal"
    },
    {
        name: "Thailand",
        flag: "ğŸ‡¹ğŸ‡­",
        emojis: ["ğŸ˜", "ğŸ¯", "ğŸœ", "ğŸï¸", "ğŸŒ´", "ğŸ¥Š", "ğŸ”´", "ğŸ”µ"],
        continent: "Asia",
        subregion: "South-Eastern Asia",
        languages: ["Thai"],
        languageFamily: "Tai-Kadai",
        population: 70000000,
        climate: "tropical",
        area: 513120,
        religion: "Buddhism",
        seaAccess: "coastal"
    },
    {
        name: "South Korea",
        flag: "ğŸ‡°ğŸ‡·",
        emojis: ["ğŸ¯", "ğŸœ", "ğŸ®", "ğŸ¤", "ğŸŒ¶ï¸", "ğŸ“±", "ğŸ”´", "ğŸ”µ"],
        continent: "Asia",
        subregion: "Eastern Asia",
        languages: ["Korean"],
        languageFamily: "Koreanic",
        population: 52000000,
        climate: "temperate",
        area: 100210,
        religion: "Christianity",
        seaAccess: "coastal"
    },
    {
        name: "Argentina",
        flag: "ğŸ‡¦ğŸ‡·",
        emojis: ["âš½", "ğŸ¥©", "ğŸ’ƒ", "ğŸ”ï¸", "ğŸ·", "ğŸ§", "ğŸ”µ", "âšª"],
        continent: "South America",
        subregion: "South America",
        languages: ["Spanish"],
        languageFamily: "Romance",
        population: 46000000,
        climate: "temperate",
        area: 2780400,
        religion: "Christianity",
        seaAccess: "coastal"
    },
    {
        name: "Turkey",
        flag: "ğŸ‡¹ğŸ‡·",
        emojis: ["ğŸ•Œ", "â˜•", "ğŸ§¿", "ğŸ›ï¸", "ğŸ¥™", "ğŸŒ‰", "ğŸ”´", "âšª"],
        continent: "Asia",
        subregion: "Western Asia",
        languages: ["Turkish"],
        languageFamily: "Turkic",
        population: 85000000,
        climate: "temperate",
        area: 783562,
        religion: "Islam",
        seaAccess: "coastal"
    },
    {
        name: "South Africa",
        flag: "ğŸ‡¿ğŸ‡¦",
        emojis: ["ğŸ¦", "ğŸ˜", "ğŸ”ï¸", "ğŸ¦", "ğŸ¦“", "ğŸŒ…", "ğŸŸ¢", "ğŸŸ¡"],
        continent: "Africa",
        subregion: "Southern Africa",
        languages: ["English", "Afrikaans", "Zulu"],
        languageFamily: "Germanic",
        population: 60000000,
        climate: "temperate",
        area: 1221037,
        religion: "Christianity",
        seaAccess: "coastal"
    },
    {
        name: "New Zealand",
        flag: "ğŸ‡³ğŸ‡¿",
        emojis: ["ğŸ¥", "ğŸ”ï¸", "ğŸ‘", "ğŸ‰", "ğŸŒ‹", "ğŸï¸", "ğŸ”µ", "ğŸ”´"],
        continent: "Oceania",
        subregion: "Australia and New Zealand",
        languages: ["English"],
        languageFamily: "Germanic",
        population: 5100000,
        climate: "temperate",
        area: 270467,
        religion: "Christianity",
        seaAccess: "island"
    },
    {
        name: "Ireland",
        flag: "ğŸ‡®ğŸ‡ª",
        emojis: ["â˜˜ï¸", "ğŸº", "ğŸ°", "ğŸ‘", "ğŸŒ§ï¸", "ğŸ»", "ğŸŸ¢", "âšª"],
        continent: "Europe",
        subregion: "Northern Europe",
        languages: ["English", "Irish"],
        languageFamily: "Germanic",
        population: 5000000,
        climate: "temperate",
        area: 70273,
        religion: "Christianity",
        seaAccess: "island"
    },
    {
        name: "Portugal",
        flag: "ğŸ‡µğŸ‡¹",
        emojis: ["ğŸ–ï¸", "âš½", "ğŸ·", "ğŸ°", "â›µ", "ğŸŸ", "ğŸŸ¢", "ğŸ”´"],
        continent: "Europe",
        subregion: "Southern Europe",
        languages: ["Portuguese"],
        languageFamily: "Romance",
        population: 10300000,
        climate: "temperate",
        area: 92090,
        religion: "Christianity",
        seaAccess: "coastal"
    },
    {
        name: "Denmark",
        flag: "ğŸ‡©ğŸ‡°",
        emojis: ["ğŸ°", "ğŸš²", "ğŸŒ¬ï¸", "ğŸ§±", "âš“", "â˜ƒï¸", "ğŸ”´", "âšª"],
        continent: "Europe",
        subregion: "Northern Europe",
        languages: ["Danish"],
        languageFamily: "Germanic",
        population: 5900000,
        climate: "temperate",
        area: 42951,
        religion: "Christianity",
        seaAccess: "coastal"
    },
    {
        name: "Iceland",
        flag: "ğŸ‡®ğŸ‡¸",
        emojis: ["ğŸŒ‹", "â„ï¸", "â™¨ï¸", "ğŸ´", "ğŸŒŒ", "ğŸ”ï¸", "ğŸ”µ", "ğŸ”´"],
        continent: "Europe",
        subregion: "Northern Europe",
        languages: ["Icelandic"],
        languageFamily: "Germanic",
        population: 370000,
        climate: "cold",
        area: 103000,
        religion: "Christianity",
        seaAccess: "island"
    },
    {
        name: "Peru",
        flag: "ğŸ‡µğŸ‡ª",
        emojis: ["ğŸ”ï¸", "ğŸ¦™", "ğŸ›ï¸", "ğŸŒ½", "ğŸŒ„", "ğŸ¦œ", "ğŸ”´", "âšª"],
        continent: "South America",
        subregion: "South America",
        languages: ["Spanish"],
        languageFamily: "Romance",
        population: 34000000,
        climate: "tropical",
        area: 1285216,
        religion: "Christianity",
        seaAccess: "coastal"
    }
];

// Helper functions for comparison
function getPopulationRange(population) {
    if (population < 5000000) return "very small";
    if (population < 20000000) return "small";
    if (population < 60000000) return "medium";
    if (population < 200000000) return "large";
    return "huge";
}

function getAreaRange(area) {
    if (area < 100000) return "very small";
    if (area < 500000) return "small";
    if (area < 1500000) return "medium";
    if (area < 3000000) return "large";
    return "huge";
}

function getClimateEmoji(climate) {
    if (climate === "tropical") return "ğŸ”¥ğŸŒ´";
    if (climate === "temperate") return "ğŸŒ¤ï¸ğŸƒ";
    return "â„ï¸ğŸ”ï¸";
}

function shareLanguage(languages1, languages2) {
    return languages1.some(lang => languages2.includes(lang));
}

function compareCharacteristic(guess, secret, characteristic) {
    const result = {};

    switch(characteristic) {
        case "continent":
            result.value = guess.continent;
            result.color = guess.continent === secret.continent ? "green" : "red";
            break;

        case "subregion":
            result.value = guess.subregion;
            if (guess.subregion === secret.subregion) {
                result.color = "green";
            } else if (guess.continent === secret.continent) {
                result.color = "yellow";
            } else {
                result.color = "red";
            }
            break;

        case "languages":
            result.value = guess.languages.join(", ");
            if (shareLanguage(guess.languages, secret.languages)) {
                result.color = "green";
            } else if (guess.languageFamily === secret.languageFamily) {
                result.color = "yellow";
            } else {
                result.color = "red";
            }
            break;

        case "population":
            const guessPopRange = getPopulationRange(guess.population);
            const secretPopRange = getPopulationRange(secret.population);
            const ranges = ["very small", "small", "medium", "large", "huge"];
            const guessIdx = ranges.indexOf(guessPopRange);
            const secretIdx = ranges.indexOf(secretPopRange);

            result.value = guessPopRange;
            if (guessIdx === secretIdx) {
                result.color = "green";
            } else if (Math.abs(guessIdx - secretIdx) === 1) {
                result.color = "yellow";
            } else {
                result.color = "red";
            }
            break;

        case "climate":
            result.value = getClimateEmoji(guess.climate);
            const climates = ["cold", "temperate", "tropical"];
            const guessClimIdx = climates.indexOf(guess.climate);
            const secretClimIdx = climates.indexOf(secret.climate);

            if (guessClimIdx === secretClimIdx) {
                result.color = "green";
            } else if (Math.abs(guessClimIdx - secretClimIdx) === 1) {
                result.color = "yellow";
            } else {
                result.color = "red";
            }
            break;

        case "area":
            const guessAreaRange = getAreaRange(guess.area);
            const secretAreaRange = getAreaRange(secret.area);
            const areaRanges = ["very small", "small", "medium", "large", "huge"];
            const guessAreaIdx = areaRanges.indexOf(guessAreaRange);
            const secretAreaIdx = areaRanges.indexOf(secretAreaRange);

            result.value = guessAreaRange;
            if (guessAreaIdx === secretAreaIdx) {
                result.color = "green";
            } else if (Math.abs(guessAreaIdx - secretAreaIdx) === 1) {
                result.color = "yellow";
            } else {
                result.color = "red";
            }
            break;

        case "religion":
            result.value = guess.religion;
            if (guess.religion === secret.religion) {
                result.color = "green";
            } else {
                const abrahamicReligions = ["Christianity", "Islam", "Judaism"];
                const easternReligions = ["Buddhism", "Hinduism"];

                if (abrahamicReligions.includes(guess.religion) && abrahamicReligions.includes(secret.religion)) {
                    result.color = "yellow";
                } else if (easternReligions.includes(guess.religion) && easternReligions.includes(secret.religion)) {
                    result.color = "yellow";
                } else {
                    result.color = "red";
                }
            }
            break;

        case "seaAccess":
            result.value = guess.seaAccess;
            if (guess.seaAccess === secret.seaAccess) {
                result.color = "green";
            } else if (guess.seaAccess !== "landlocked" && secret.seaAccess !== "landlocked") {
                result.color = "yellow";
            } else {
                result.color = "red";
            }
            break;
    }

    return result;
}
